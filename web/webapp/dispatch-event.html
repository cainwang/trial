<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Dispatch Event</title>

<script type="text/javascript">
function init() {
    var div = document.querySelector('div');
    div.addEventListener('bang', function(event) {
        alert('Bang: ' + event.detail);
    });

    var event;
    if (document.createEvent) {
        event = document.createEvent('Event');
        event.initEvent('bang', true, false);
        event.detail = 'bang event details';
    } else if (window.CustomEvent) {
        alert('custom event');
        event = new CustomEvent('bang');
    }

    if (event) {
        if (div.dispatchEvent) {
            div.dispatchEvent(event);
        } else {
            div.fireEvent(event);
        }
    }
}
</script>

</head>

<body onload="init()">
    <div></div>
</body>
</html>